<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/calculadoraimc/ui/dashboard/DashboardFragment.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/calculadoraimc/ui/dashboard/DashboardFragment.kt" />
              <option name="originalContent" value="package com.example.calculadoraimc.ui.dashboard&#10;&#10;import android.os.Bundle&#10;import android.view.LayoutInflater&#10;import android.view.View&#10;import android.view.ViewGroup&#10;import android.widget.Toast&#10;import androidx.fragment.app.Fragment&#10;import com.example.calculadoraimc.databinding.FragmentDashboardBinding&#10;import com.chaquo.python.Python&#10;&#10;class DashboardFragment : Fragment() {&#10;&#10;    private var _binding: FragmentDashboardBinding? = null&#10;    private val binding get() = _binding!!&#10;&#10;    override fun onCreateView(&#10;        inflater: LayoutInflater,&#10;        container: ViewGroup?,&#10;        savedInstanceState: Bundle?&#10;    ): View {&#10;        _binding = FragmentDashboardBinding.inflate(inflater, container, false)&#10;        val root: View = binding.root&#10;&#10;        setupClickListeners()&#10;&#10;        return root&#10;    }&#10;&#10;    private fun setupClickListeners() {&#10;        binding.btnCalcular.setOnClickListener {&#10;            calcularPercentil()&#10;        }&#10;&#10;        binding.btnGuardar.setOnClickListener {&#10;            guardarMedicion()&#10;        }&#10;    }&#10;&#10;    private fun calcularPercentil() {&#10;        val pesoText = binding.etPeso.text.toString()&#10;        val alturaText = binding.etAltura.text.toString()&#10;        val edadText = binding.etEdad.text.toString()&#10;&#10;        if (pesoText.isEmpty() || alturaText.isEmpty() || edadText.isEmpty()) {&#10;            Toast.makeText(context, &quot;Por favor completa todos los campos&quot;, Toast.LENGTH_SHORT).show()&#10;            return&#10;        }&#10;&#10;        try {&#10;            val peso = pesoText.toDouble()&#10;            val altura = alturaText.toDouble()&#10;            val edad = edadText.toInt()&#10;&#10;            if (peso &lt;= 0 || altura &lt;= 0 || edad &lt; 5 || edad &gt; 19) {&#10;                Toast.makeText(context, &quot;Valores inválidos. Edad debe estar entre 5-19 años&quot;, Toast.LENGTH_SHORT).show()&#10;                return&#10;            }&#10;&#10;            val sexo = if (binding.rbMasculino.isChecked) &quot;Masculino&quot; else &quot;Femenino&quot;&#10;            val edadMeses = edad * 12 // Convertir años a meses&#10;&#10;            // Llamar a las funciones de Python&#10;            val python = Python.getInstance()&#10;            val funcionesModule = python.getModule(&quot;funciones_imc_android&quot;)&#10;&#10;            val imc = funcionesModule.callAttr(&quot;calcular_imc&quot;, peso, altura).toDouble()&#10;            val resultado = funcionesModule.callAttr(&quot;calcular_imc_menor&quot;, sexo, edadMeses, imc)&#10;&#10;            // Verificar si hay error en el resultado&#10;            if (resultado.containsKey(&quot;error&quot;)) {&#10;                Toast.makeText(context, &quot;Error: ${resultado[&quot;error&quot;]}&quot;, Toast.LENGTH_LONG).show()&#10;                return&#10;            }&#10;&#10;            val percentil = resultado.get(&quot;percentil&quot;).toDouble()&#10;            val interpretacion = resultado.get(&quot;interpretacion&quot;).toString()&#10;&#10;            // Mostrar resultados&#10;            binding.tvImcValor.text = &quot;IMC: ${String.format(&quot;%.1f&quot;, imc)}&quot;&#10;            binding.tvPercentil.text = &quot;Percentil: ${String.format(&quot;%.1f&quot;, percentil)}&quot;&#10;            binding.tvInterpretacion.text = interpretacion&#10;            binding.cardResultado.visibility = View.VISIBLE&#10;&#10;        } catch (e: NumberFormatException) {&#10;            Toast.makeText(context, &quot;Por favor ingresa valores numéricos válidos&quot;, Toast.LENGTH_SHORT).show()&#10;        } catch (e: Exception) {&#10;            Toast.makeText(context, &quot;Error al calcular: ${e.message}&quot;, Toast.LENGTH_SHORT).show()&#10;        }&#10;    }&#10;&#10;    private fun guardarMedicion() {&#10;        val pesoText = binding.etPeso.text.toString()&#10;        val alturaText = binding.etAltura.text.toString()&#10;        val edadText = binding.etEdad.text.toString()&#10;&#10;        if (pesoText.isEmpty() || alturaText.isEmpty() || edadText.isEmpty()) {&#10;            Toast.makeText(context, &quot;Calcula el percentil primero&quot;, Toast.LENGTH_SHORT).show()&#10;            return&#10;        }&#10;&#10;        try {&#10;            val peso = pesoText.toDouble()&#10;            val altura = alturaText.toDouble()&#10;            val edad = edadText.toInt()&#10;            val sexo = if (binding.rbMasculino.isChecked) &quot;Masculino&quot; else &quot;Femenino&quot;&#10;            val edadMeses = edad * 12&#10;&#10;            // Llamar a las funciones de Python&#10;            val python = Python.getInstance()&#10;            val funcionesModule = python.getModule(&quot;funciones_imc_android&quot;)&#10;&#10;            val imc = funcionesModule.callAttr(&quot;calcular_imc&quot;, peso, altura).toDouble()&#10;            val resultado = funcionesModule.callAttr(&quot;calcular_imc_menor&quot;, sexo, edadMeses, imc)&#10;&#10;            if (!resultado.containsKey(&quot;error&quot;)) {&#10;                val percentil = resultado.get(&quot;percentil&quot;).toDouble()&#10;                funcionesModule.callAttr(&quot;guardar_medicion&quot;, peso, altura, imc, sexo, edadMeses, percentil)&#10;&#10;                Toast.makeText(context, &quot;Medición guardada en el historial&quot;, Toast.LENGTH_SHORT).show()&#10;&#10;                // Limpiar campos&#10;                binding.etPeso.text?.clear()&#10;                binding.etAltura.text?.clear()&#10;                binding.etEdad.text?.clear()&#10;                binding.rbMasculino.isChecked = true&#10;                binding.cardResultado.visibility = View.GONE&#10;            }&#10;&#10;        } catch (e: Exception) {&#10;            Toast.makeText(context, &quot;Error al guardar: ${e.message}&quot;, Toast.LENGTH_SHORT).show()&#10;        }&#10;    }&#10;&#10;    override fun onDestroyView() {&#10;        super.onDestroyView()&#10;        _binding = null&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.calculadoraimc.ui.dashboard&#10;&#10;import android.os.Bundle&#10;import android.view.LayoutInflater&#10;import android.view.View&#10;import android.view.ViewGroup&#10;import android.widget.Toast&#10;import androidx.fragment.app.Fragment&#10;import com.example.calculadoraimc.databinding.FragmentDashboardBinding&#10;import com.chaquo.python.Python&#10;&#10;class DashboardFragment : Fragment() {&#10;&#10;    private var _binding: FragmentDashboardBinding? = null&#10;    private val binding get() = _binding!!&#10;&#10;    override fun onCreateView(&#10;        inflater: LayoutInflater,&#10;        container: ViewGroup?,&#10;        savedInstanceState: Bundle?&#10;    ): View {&#10;        _binding = FragmentDashboardBinding.inflate(inflater, container, false)&#10;        val root: View = binding.root&#10;&#10;        setupClickListeners()&#10;&#10;        return root&#10;    }&#10;&#10;    private fun setupClickListeners() {&#10;        binding.btnCalcular.setOnClickListener {&#10;            calcularPercentil()&#10;        }&#10;&#10;        binding.btnGuardar.setOnClickListener {&#10;            guardarMedicion()&#10;        }&#10;    }&#10;&#10;    private fun calcularPercentil() {&#10;        val pesoText = binding.etPeso.text.toString()&#10;        val alturaText = binding.etAltura.text.toString()&#10;        val edadText = binding.etEdad.text.toString()&#10;&#10;        if (pesoText.isEmpty() || alturaText.isEmpty() || edadText.isEmpty()) {&#10;            Toast.makeText(context, &quot;Por favor completa todos los campos&quot;, Toast.LENGTH_SHORT).show()&#10;            return&#10;        }&#10;&#10;        try {&#10;            val peso = pesoText.toDouble()&#10;            val altura = alturaText.toDouble()&#10;            val edad = edadText.toInt()&#10;&#10;            if (peso &lt;= 0 || altura &lt;= 0 || edad &lt; 5 || edad &gt; 19) {&#10;                Toast.makeText(context, &quot;Valores inválidos. Edad debe estar entre 5-19 años&quot;, Toast.LENGTH_SHORT).show()&#10;                return&#10;            }&#10;&#10;            val sexo = if (binding.rbMasculino.isChecked) &quot;Masculino&quot; else &quot;Femenino&quot;&#10;            val edadMeses = edad * 12 // Convertir años a meses&#10;&#10;            // Llamar a las funciones de Python&#10;            val python = Python.getInstance()&#10;            val funcionesModule = python.getModule(&quot;funciones_imc_android&quot;)&#10;&#10;            val imc = funcionesModule.callAttr(&quot;calcular_imc&quot;, peso, altura).toDouble()&#10;            val resultado = funcionesModule.callAttr(&quot;calcular_imc_menor&quot;, sexo, edadMeses, imc)&#10;&#10;            // Verificar si hay error en el resultado&#10;            if (resultado?.containsKey(&quot;error&quot;) == true) {&#10;                Toast.makeText(context, &quot;Error: ${resultado[&quot;error&quot;]}&quot;, Toast.LENGTH_LONG).show()&#10;                return&#10;            }&#10;&#10;            val percentil = resultado?.get(&quot;percentil&quot;)?.toDouble() ?: 0.0&#10;            val interpretacion = resultado?.get(&quot;interpretacion&quot;)?.toString() ?: &quot;Sin interpretación&quot;&#10;&#10;            // Mostrar resultados&#10;            binding.tvImcValor.text = &quot;IMC: ${String.format(&quot;%.1f&quot;, imc)}&quot;&#10;            binding.tvPercentil.text = &quot;Percentil: ${String.format(&quot;%.1f&quot;, percentil)}&quot;&#10;            binding.tvInterpretacion.text = interpretacion&#10;            binding.cardResultado.visibility = View.VISIBLE&#10;&#10;        } catch (e: NumberFormatException) {&#10;            Toast.makeText(context, &quot;Por favor ingresa valores numéricos válidos&quot;, Toast.LENGTH_SHORT).show()&#10;        } catch (e: Exception) {&#10;            Toast.makeText(context, &quot;Error al calcular: ${e.message}&quot;, Toast.LENGTH_SHORT).show()&#10;        }&#10;    }&#10;&#10;    private fun guardarMedicion() {&#10;        val pesoText = binding.etPeso.text.toString()&#10;        val alturaText = binding.etAltura.text.toString()&#10;        val edadText = binding.etEdad.text.toString()&#10;&#10;        if (pesoText.isEmpty() || alturaText.isEmpty() || edadText.isEmpty()) {&#10;            Toast.makeText(context, &quot;Calcula el percentil primero&quot;, Toast.LENGTH_SHORT).show()&#10;            return&#10;        }&#10;&#10;        try {&#10;            val peso = pesoText.toDouble()&#10;            val altura = alturaText.toDouble()&#10;            val edad = edadText.toInt()&#10;            val sexo = if (binding.rbMasculino.isChecked) &quot;Masculino&quot; else &quot;Femenino&quot;&#10;            val edadMeses = edad * 12&#10;&#10;            // Llamar a las funciones de Python&#10;            val python = Python.getInstance()&#10;            val funcionesModule = python.getModule(&quot;funciones_imc_android&quot;)&#10;&#10;            val imc = funcionesModule.callAttr(&quot;calcular_imc&quot;, peso, altura).toDouble()&#10;            val resultado = funcionesModule.callAttr(&quot;calcular_imc_menor&quot;, sexo, edadMeses, imc)&#10;&#10;            if (!resultado.containsKey(&quot;error&quot;)) {&#10;                val percentil = resultado.get(&quot;percentil&quot;).toDouble()&#10;                funcionesModule.callAttr(&quot;guardar_medicion&quot;, peso, altura, imc, sexo, edadMeses, percentil)&#10;&#10;                Toast.makeText(context, &quot;Medición guardada en el historial&quot;, Toast.LENGTH_SHORT).show()&#10;&#10;                // Limpiar campos&#10;                binding.etPeso.text?.clear()&#10;                binding.etAltura.text?.clear()&#10;                binding.etEdad.text?.clear()&#10;                binding.rbMasculino.isChecked = true&#10;                binding.cardResultado.visibility = View.GONE&#10;            }&#10;&#10;        } catch (e: Exception) {&#10;            Toast.makeText(context, &quot;Error al guardar: ${e.message}&quot;, Toast.LENGTH_SHORT).show()&#10;        }&#10;    }&#10;&#10;    override fun onDestroyView() {&#10;        super.onDestroyView()&#10;        _binding = null&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/calculadoraimc/ui/home/HomeFragment.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/calculadoraimc/ui/home/HomeFragment.kt" />
              <option name="originalContent" value="package com.example.calculadoraimc.ui.home&#10;&#10;import android.os.Bundle&#10;import android.view.LayoutInflater&#10;import android.view.View&#10;import android.view.ViewGroup&#10;import android.widget.TextView&#10;import androidx.fragment.app.Fragment&#10;import androidx.lifecycle.ViewModelProvider&#10;import com.example.calculadoraimc.databinding.FragmentHomeBinding&#10;&#10;class HomeFragment : Fragment() {&#10;&#10;    private var _binding: FragmentHomeBinding? = null&#10;&#10;    // This property is only valid between onCreateView and&#10;    // onDestroyView.&#10;    private val binding get() = _binding!!&#10;&#10;    override fun onCreateView(&#10;        inflater: LayoutInflater,&#10;        container: ViewGroup?,&#10;        savedInstanceState: Bundle?&#10;    ): View {&#10;        val homeViewModel =&#10;            ViewModelProvider(this).get(HomeViewModel::class.java)&#10;&#10;        _binding = FragmentHomeBinding.inflate(inflater, container, false)&#10;        val root: View = binding.root&#10;&#10;        val textView: TextView = binding.textHome&#10;        homeViewModel.text.observe(viewLifecycleOwner) {&#10;            textView.text = it&#10;        }&#10;        return root&#10;    }&#10;&#10;    override fun onDestroyView() {&#10;        super.onDestroyView()&#10;        _binding = null&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.calculadoraimc.ui.home&#10;&#10;import android.os.Bundle&#10;import android.view.LayoutInflater&#10;import android.view.View&#10;import android.view.ViewGroup&#10;import android.widget.Toast&#10;import androidx.fragment.app.Fragment&#10;import com.example.calculadoraimc.databinding.FragmentHomeBinding&#10;import com.chaquo.python.Python&#10;&#10;class HomeFragment : Fragment() {&#10;&#10;    private var _binding: FragmentHomeBinding? = null&#10;    private val binding get() = _binding!!&#10;&#10;    override fun onCreateView(&#10;        inflater: LayoutInflater,&#10;        container: ViewGroup?,&#10;        savedInstanceState: Bundle?&#10;    ): View {&#10;        _binding = FragmentHomeBinding.inflate(inflater, container, false)&#10;        val root: View = binding.root&#10;&#10;        setupClickListeners()&#10;&#10;        return root&#10;    }&#10;&#10;    private fun setupClickListeners() {&#10;        binding.btnCalcular.setOnClickListener {&#10;            calcularIMC()&#10;        }&#10;&#10;        binding.btnGuardar.setOnClickListener {&#10;            guardarMedicion()&#10;        }&#10;    }&#10;&#10;    private fun calcularIMC() {&#10;        val pesoText = binding.etPeso.text.toString()&#10;        val alturaText = binding.etAltura.text.toString()&#10;&#10;        if (pesoText.isEmpty() || alturaText.isEmpty()) {&#10;            Toast.makeText(context, &quot;Por favor ingresa peso y altura&quot;, Toast.LENGTH_SHORT).show()&#10;            return&#10;        }&#10;&#10;        try {&#10;            val peso = pesoText.toDouble()&#10;            val altura = alturaText.toDouble()&#10;&#10;            if (peso &lt;= 0 || altura &lt;= 0) {&#10;                Toast.makeText(context, &quot;Los valores deben ser mayores a 0&quot;, Toast.LENGTH_SHORT).show()&#10;                return&#10;            }&#10;&#10;            // Llamar a la función de Python para calcular IMC&#10;            val python = Python.getInstance()&#10;            val funcionesModule = python.getModule(&quot;funciones_imc_android&quot;)&#10;&#10;            val imc = funcionesModule.callAttr(&quot;calcular_imc&quot;, peso, altura).toDouble()&#10;            val interpretacion = funcionesModule.callAttr(&quot;interpretar_imc&quot;, imc).toString()&#10;&#10;            // Mostrar resultados&#10;            binding.tvImcValor.text = &quot;IMC: ${String.format(&quot;%.1f&quot;, imc)}&quot;&#10;            binding.tvInterpretacion.text = interpretacion&#10;            binding.cardResultado.visibility = View.VISIBLE&#10;&#10;        } catch (e: NumberFormatException) {&#10;            Toast.makeText(context, &quot;Por favor ingresa valores numéricos válidos&quot;, Toast.LENGTH_SHORT).show()&#10;        } catch (e: Exception) {&#10;            Toast.makeText(context, &quot;Error al calcular: ${e.message}&quot;, Toast.LENGTH_SHORT).show()&#10;        }&#10;    }&#10;&#10;    private fun guardarMedicion() {&#10;        val pesoText = binding.etPeso.text.toString()&#10;        val alturaText = binding.etAltura.text.toString()&#10;&#10;        if (pesoText.isEmpty() || alturaText.isEmpty()) {&#10;            Toast.makeText(context, &quot;Calcula el IMC primero&quot;, Toast.LENGTH_SHORT).show()&#10;            return&#10;        }&#10;&#10;        try {&#10;            val peso = pesoText.toDouble()&#10;            val altura = alturaText.toDouble()&#10;&#10;            // Llamar a las funciones de Python&#10;            val python = Python.getInstance()&#10;            val funcionesModule = python.getModule(&quot;funciones_imc_android&quot;)&#10;&#10;            val imc = funcionesModule.callAttr(&quot;calcular_imc&quot;, peso, altura).toDouble()&#10;            funcionesModule.callAttr(&quot;guardar_medicion&quot;, peso, altura, imc)&#10;&#10;            Toast.makeText(context, &quot;Medición guardada en el historial&quot;, Toast.LENGTH_SHORT).show()&#10;&#10;            // Limpiar campos&#10;            binding.etPeso.text?.clear()&#10;            binding.etAltura.text?.clear()&#10;            binding.cardResultado.visibility = View.GONE&#10;&#10;        } catch (e: Exception) {&#10;            Toast.makeText(context, &quot;Error al guardar: ${e.message}&quot;, Toast.LENGTH_SHORT).show()&#10;        }&#10;    }&#10;&#10;    override fun onDestroyView() {&#10;        super.onDestroyView()&#10;        _binding = null&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/python/__init__.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/python/__init__.py" />
              <option name="updatedContent" value="# Archivo __init__.py para el paquete de funciones IMC&#10;# Permite que Python reconozca este directorio como un paquete&#10;&#10;from .funciones_imc_android import *" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/python/calculos_adultos.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/python/calculos_adultos.py" />
              <option name="originalContent" value="###&#10;# Módulo específico para cálculos de IMC en adultos&#10;# Incluye interpretación, categorías y rangos para adultos&#10;###&#10;&#10;from .utilidades import calcular_imc&#10;&#10;&#10;def interpretar_imc(imc):&#10;    &quot;&quot;&quot;Interpreta el IMC y devuelve un mensaje descriptivo.&quot;&quot;&quot;&#10;    categoria_info = obtener_categoria_imc(imc)&#10;&#10;    # Mapeo de nombres de categoría a mensajes descriptivos&#10;    mensajes = {&#10;        &quot;Bajo peso&quot;: &quot;Tienes bajo peso&quot;,&#10;        &quot;Normal&quot;: &quot;Tu IMC es normal&quot;,&#10;        &quot;Sobrepeso&quot;: &quot;Tienes sobrepeso&quot;,&#10;        &quot;Obesidad I&quot;: &quot;Tienes obesidad de grado 1&quot;,&#10;        &quot;Obesidad II&quot;: &quot;Tienes obesidad de grado 2&quot;,&#10;        &quot;Obesidad III&quot;: &quot;Tienes obesidad de grado 3&quot;&#10;    }&#10;&#10;    return mensajes.get(categoria_info[&quot;categoria&quot;][&quot;nombre&quot;], &quot;Categoría no reconocida&quot;)&#10;&#10;&#10;def obtener_rangos_imc():&#10;    &quot;&quot;&quot;&#10;    Devuelve los rangos de IMC para la barra visual con sus respectivos datos.&#10;    Retorna una lista de diccionarios con la información de cada rango.&#10;    &quot;&quot;&quot;&#10;    return [&#10;        {&#10;            &quot;nombre&quot;: &quot;Bajo peso&quot;,&#10;            &quot;rango_texto&quot;: &quot;&lt;18.5&quot;,&#10;            &quot;min_valor&quot;: 0.0,&#10;            &quot;max_valor&quot;: 18.5,&#10;            &quot;color&quot;: &quot;#2196F3&quot;  # Azul&#10;        },&#10;        {&#10;            &quot;nombre&quot;: &quot;Normal&quot;,&#10;            &quot;rango_texto&quot;: &quot;18.5-24.9&quot;,&#10;            &quot;min_valor&quot;: 18.5,&#10;            &quot;max_valor&quot;: 24.9,&#10;            &quot;color&quot;: &quot;#4CAF50&quot;  # Verde&#10;        },&#10;        {&#10;            &quot;nombre&quot;: &quot;Sobrepeso&quot;,&#10;            &quot;rango_texto&quot;: &quot;25-29.9&quot;,&#10;            &quot;min_valor&quot;: 25.0,&#10;            &quot;max_valor&quot;: 29.9,&#10;            &quot;color&quot;: &quot;#FF9800&quot;  # Naranja&#10;        },&#10;        {&#10;            &quot;nombre&quot;: &quot;Obesidad I&quot;,&#10;            &quot;rango_texto&quot;: &quot;30-34.9&quot;,&#10;            &quot;min_valor&quot;: 30.0,&#10;            &quot;max_valor&quot;: 34.9,&#10;            &quot;color&quot;: &quot;#FF5722&quot;  # Rojo naranja&#10;        },&#10;        {&#10;            &quot;nombre&quot;: &quot;Obesidad II&quot;,&#10;            &quot;rango_texto&quot;: &quot;35-39.9&quot;,&#10;            &quot;min_valor&quot;: 35.0,&#10;            &quot;max_valor&quot;: 39.9,&#10;            &quot;color&quot;: &quot;#D32F2F&quot;  # Rojo&#10;        },&#10;        {&#10;            &quot;nombre&quot;: &quot;Obesidad III&quot;,&#10;            &quot;rango_texto&quot;: &quot;≥40&quot;,&#10;            &quot;min_valor&quot;: 40.0,&#10;            &quot;max_valor&quot;: 50.0,  # Valor máximo para la barra&#10;            &quot;color&quot;: &quot;#7B1FA2&quot;  # Morado&#10;        }&#10;    ]&#10;&#10;&#10;def calcular_posicion_en_barra(imc):&#10;    &quot;&quot;&quot;&#10;    Calcula la posición relativa del IMC en la barra (de 0.0 a 1.0).&#10;    &quot;&quot;&quot;&#10;    if imc &lt; 18.5:&#10;        # Rango bajo peso: 0% al 16.67% de la barra&#10;        return (imc / 18.5) * (1.0 / 6.0)&#10;    elif imc &lt; 25.0:&#10;        # Rango normal: 16.67% al 33.33% de la barra&#10;        return (1.0 / 6.0) + ((imc - 18.5) / (24.9 - 18.5)) * (1.0 / 6.0)&#10;    elif imc &lt; 30.0:&#10;        # Rango sobrepeso: 33.33% al 50% de la barra&#10;        return (2.0 / 6.0) + ((imc - 25.0) / (29.9 - 25.0)) * (1.0 / 6.0)&#10;    elif imc &lt; 35.0:&#10;        # Rango obesidad I: 50% al 66.67% de la barra&#10;        return (3.0 / 6.0) + ((imc - 30.0) / (34.9 - 30.0)) * (1.0 / 6.0)&#10;    elif imc &lt; 40.0:&#10;        # Rango obesidad II: 66.67% al 83.33% de la barra&#10;        return (4.0 / 6.0) + ((imc - 35.0) / (39.9 - 35.0)) * (1.0 / 6.0)&#10;    else:&#10;        # Rango obesidad III: 83.33% al 100% de la barra&#10;        return (5.0 / 6.0) + ((imc - 40.0) / 10.0) * (1.0 / 6.0)&#10;&#10;&#10;def obtener_categoria_imc(imc):&#10;    &quot;&quot;&quot;&#10;    Devuelve la categoría del IMC como un diccionario con información detallada.&#10;    Esta es la función central que determina la categoría basada en los rangos.&#10;    &quot;&quot;&quot;&#10;    rangos = obtener_rangos_imc()&#10;&#10;    # Determinar categoría basada en el valor del IMC&#10;    if imc &lt; 18.5:&#10;        categoria = rangos[0]  # Bajo peso&#10;    elif imc &lt;= 24.9:&#10;        categoria = rangos[1]  # Normal&#10;    elif imc &lt;= 29.9:&#10;        categoria = rangos[2]  # Sobrepeso&#10;    elif imc &lt;= 34.9:&#10;        categoria = rangos[3]  # Obesidad I&#10;    elif imc &lt;= 39.9:&#10;        categoria = rangos[4]  # Obesidad II&#10;    else:&#10;        categoria = rangos[5]  # Obesidad III&#10;&#10;    return {&#10;        &quot;categoria&quot;: categoria,&#10;        &quot;posicion&quot;: calcular_posicion_en_barra(imc),&#10;        &quot;imc_valor&quot;: round(imc, 1)&#10;    }&#10;" />
              <option name="updatedContent" value="###&#10;# Módulo específico para cálculos de IMC en adultos&#10;# Incluye interpretación, categorías y rangos para adultos&#10;###&#10;&#10;from utilidades import calcular_imc&#10;&#10;&#10;def interpretar_imc(imc):&#10;    &quot;&quot;&quot;Interpreta el IMC y devuelve un mensaje descriptivo.&quot;&quot;&quot;&#10;    categoria_info = obtener_categoria_imc(imc)&#10;&#10;    # Mapeo de nombres de categoría a mensajes descriptivos&#10;    mensajes = {&#10;        &quot;Bajo peso&quot;: &quot;Tienes bajo peso&quot;,&#10;        &quot;Normal&quot;: &quot;Tu IMC es normal&quot;,&#10;        &quot;Sobrepeso&quot;: &quot;Tienes sobrepeso&quot;,&#10;        &quot;Obesidad I&quot;: &quot;Tienes obesidad de grado 1&quot;,&#10;        &quot;Obesidad II&quot;: &quot;Tienes obesidad de grado 2&quot;,&#10;        &quot;Obesidad III&quot;: &quot;Tienes obesidad de grado 3&quot;&#10;    }&#10;&#10;    return mensajes.get(categoria_info[&quot;categoria&quot;][&quot;nombre&quot;], &quot;Categoría no reconocida&quot;)&#10;&#10;&#10;def obtener_rangos_imc():&#10;    &quot;&quot;&quot;&#10;    Devuelve los rangos de IMC para la barra visual con sus respectivos datos.&#10;    Retorna una lista de diccionarios con la información de cada rango.&#10;    &quot;&quot;&quot;&#10;    return [&#10;        {&#10;            &quot;nombre&quot;: &quot;Bajo peso&quot;,&#10;            &quot;rango_texto&quot;: &quot;&lt;18.5&quot;,&#10;            &quot;min_valor&quot;: 0.0,&#10;            &quot;max_valor&quot;: 18.5,&#10;            &quot;color&quot;: &quot;#2196F3&quot;  # Azul&#10;        },&#10;        {&#10;            &quot;nombre&quot;: &quot;Normal&quot;,&#10;            &quot;rango_texto&quot;: &quot;18.5-24.9&quot;,&#10;            &quot;min_valor&quot;: 18.5,&#10;            &quot;max_valor&quot;: 24.9,&#10;            &quot;color&quot;: &quot;#4CAF50&quot;  # Verde&#10;        },&#10;        {&#10;            &quot;nombre&quot;: &quot;Sobrepeso&quot;,&#10;            &quot;rango_texto&quot;: &quot;25-29.9&quot;,&#10;            &quot;min_valor&quot;: 25.0,&#10;            &quot;max_valor&quot;: 29.9,&#10;            &quot;color&quot;: &quot;#FF9800&quot;  # Naranja&#10;        },&#10;        {&#10;            &quot;nombre&quot;: &quot;Obesidad I&quot;,&#10;            &quot;rango_texto&quot;: &quot;30-34.9&quot;,&#10;            &quot;min_valor&quot;: 30.0,&#10;            &quot;max_valor&quot;: 34.9,&#10;            &quot;color&quot;: &quot;#FF5722&quot;  # Rojo naranja&#10;        },&#10;        {&#10;            &quot;nombre&quot;: &quot;Obesidad II&quot;,&#10;            &quot;rango_texto&quot;: &quot;35-39.9&quot;,&#10;            &quot;min_valor&quot;: 35.0,&#10;            &quot;max_valor&quot;: 39.9,&#10;            &quot;color&quot;: &quot;#D32F2F&quot;  # Rojo&#10;        },&#10;        {&#10;            &quot;nombre&quot;: &quot;Obesidad III&quot;,&#10;            &quot;rango_texto&quot;: &quot;≥40&quot;,&#10;            &quot;min_valor&quot;: 40.0,&#10;            &quot;max_valor&quot;: 50.0,  # Valor máximo para la barra&#10;            &quot;color&quot;: &quot;#7B1FA2&quot;  # Morado&#10;        }&#10;    ]&#10;&#10;&#10;def calcular_posicion_en_barra(imc):&#10;    &quot;&quot;&quot;&#10;    Calcula la posición relativa del IMC en la barra (de 0.0 a 1.0).&#10;    &quot;&quot;&quot;&#10;    if imc &lt; 18.5:&#10;        # Rango bajo peso: 0% al 16.67% de la barra&#10;        return (imc / 18.5) * (1.0 / 6.0)&#10;    elif imc &lt; 25.0:&#10;        # Rango normal: 16.67% al 33.33% de la barra&#10;        return (1.0 / 6.0) + ((imc - 18.5) / (24.9 - 18.5)) * (1.0 / 6.0)&#10;    elif imc &lt; 30.0:&#10;        # Rango sobrepeso: 33.33% al 50% de la barra&#10;        return (2.0 / 6.0) + ((imc - 25.0) / (29.9 - 25.0)) * (1.0 / 6.0)&#10;    elif imc &lt; 35.0:&#10;        # Rango obesidad I: 50% al 66.67% de la barra&#10;        return (3.0 / 6.0) + ((imc - 30.0) / (34.9 - 30.0)) * (1.0 / 6.0)&#10;    elif imc &lt; 40.0:&#10;        # Rango obesidad II: 66.67% al 83.33% de la barra&#10;        return (4.0 / 6.0) + ((imc - 35.0) / (39.9 - 35.0)) * (1.0 / 6.0)&#10;    else:&#10;        # Rango obesidad III: 83.33% al 100% de la barra&#10;        return (5.0 / 6.0) + ((imc - 40.0) / 10.0) * (1.0 / 6.0)&#10;&#10;&#10;def obtener_categoria_imc(imc):&#10;    &quot;&quot;&quot;&#10;    Devuelve la categoría del IMC como un diccionario con información detallada.&#10;    Esta es la función central que determina la categoría basada en los rangos.&#10;    &quot;&quot;&quot;&#10;    rangos = obtener_rangos_imc()&#10;&#10;    # Determinar categoría basada en el valor del IMC&#10;    if imc &lt; 18.5:&#10;        categoria = rangos[0]  # Bajo peso&#10;    elif imc &lt;= 24.9:&#10;        categoria = rangos[1]  # Normal&#10;    elif imc &lt;= 29.9:&#10;        categoria = rangos[2]  # Sobrepeso&#10;    elif imc &lt;= 34.9:&#10;        categoria = rangos[3]  # Obesidad I&#10;    elif imc &lt;= 39.9:&#10;        categoria = rangos[4]  # Obesidad II&#10;    else:&#10;        categoria = rangos[5]  # Obesidad III&#10;&#10;    return {&#10;        &quot;categoria&quot;: categoria,&#10;        &quot;posicion&quot;: calcular_posicion_en_barra(imc),&#10;        &quot;imc_valor&quot;: round(imc, 1)&#10;    }" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/python/calculos_menores.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/python/calculos_menores.py" />
              <option name="originalContent" value="###&#10;# Módulo específico para cálculos de IMC en menores (5-19 años)&#10;# Incluye cálculo de percentiles usando tablas de la OMS&#10;###&#10;&#10;import io&#10;import pandas as pd&#10;import math&#10;from java import jclass&#10;from .utilidades import convertir_peso_a_float, convertir_altura_a_metros, calcular_imc, calcular_edad_exacta_en_meses&#10;&#10;&#10;def cargar_percentiles(sexo):&#10;    &quot;&quot;&quot;&#10;    Carga la tabla de percentiles para el sexo dado desde un archivo CSV&#10;    almacenado en los assets de la aplicación usando Chaquopy.&#10;    &quot;&quot;&quot;&#10;    nombre_archivo = (&#10;        'percentiles_imc_niños.csv' if sexo == 'Masculino' else&#10;        'percentiles_imc_niñas.csv'&#10;    )&#10;    try:&#10;        context = jclass(&quot;android.app.ActivityThread&quot;).currentApplication()&#10;        asset_manager = context.getAssets()&#10;        input_stream = asset_manager.open(nombre_archivo)&#10;&#10;        # Leer el contenido usando Java BufferedReader&#10;        BufferedReader = jclass(&quot;java.io.BufferedReader&quot;)&#10;        InputStreamReader = jclass(&quot;java.io.InputStreamReader&quot;)&#10;&#10;        reader = BufferedReader(InputStreamReader(input_stream, &quot;UTF-8&quot;))&#10;        contenido = &quot;&quot;&#10;        linea = reader.readLine()&#10;        while linea is not None:&#10;            contenido += linea + &quot;\n&quot;&#10;            linea = reader.readLine()&#10;&#10;        reader.close()&#10;        input_stream.close()&#10;&#10;        df = pd.read_csv(io.StringIO(contenido), sep=';', decimal=',')&#10;        return df&#10;    except Exception as e:&#10;        print(f&quot;Error al cargar el archivo CSV '{nombre_archivo}': {e}&quot;)&#10;        return None&#10;&#10;&#10;def normal_cdf(x, mu=0, sigma=1):&#10;    &quot;&quot;&quot;Función de distribución acumulada normal estándar.&quot;&quot;&quot;&#10;    return 0.5 * (1 + math.erf((x - mu) / (sigma * math.sqrt(2))))&#10;&#10;&#10;def interpretar_percentil(percentil):&#10;    &quot;&quot;&quot;Interpreta el percentil de IMC y devuelve un mensaje descriptivo.&quot;&quot;&quot;&#10;    if percentil &lt; 3:&#10;        return &quot;Bajo peso.&quot;&#10;    elif percentil &lt; 85:&#10;        return &quot;Peso saludable.&quot;&#10;    elif percentil &lt; 97:&#10;        return &quot;Sobrepeso.&quot;&#10;    else:&#10;        return &quot;Obesidad.&quot;&#10;&#10;&#10;def calcular_imc_menor(sexo: str, edad_input, peso_input, altura_input) -&gt; dict:&#10;    &quot;&quot;&quot;&#10;    Calcula el percentil de IMC para un menor usando las tablas de la OMS.&#10;    Acepta múltiples formatos para peso y altura, y convierte edad a meses automáticamente.&#10;&#10;    Args:&#10;        sexo: &quot;Masculino&quot; o &quot;Femenino&quot;&#10;        edad_input: Edad en años (int, float, string)&#10;        peso_input: Peso en kg (acepta formatos variados)&#10;        altura_input: Altura en m o cm (acepta formatos variados)&#10;&#10;    Returns:&#10;        dict: {&quot;imc&quot;: float, &quot;percentil&quot;: float, &quot;interpretacion&quot;: str} o {&quot;error&quot;: str}&#10;    &quot;&quot;&quot;&#10;    try:&#10;        # Validar sexo&#10;        if sexo not in [&quot;Masculino&quot;, &quot;Femenino&quot;]:&#10;            return {&quot;error&quot;: &quot;Sexo debe ser 'Masculino' o 'Femenino'&quot;}&#10;&#10;        # Convertir y validar edad&#10;        try:&#10;            if isinstance(edad_input, str):&#10;                edad = float(edad_input.replace(&quot;,&quot;, &quot;.&quot;))&#10;            else:&#10;                edad = float(edad_input)&#10;&#10;            if edad &lt; 5 or edad &gt; 19:&#10;                return {&quot;error&quot;: &quot;La edad debe estar entre 5 y 19 años&quot;}&#10;&#10;            edad_meses = int(edad * 12)&#10;&#10;        except (ValueError, TypeError):&#10;            return {&quot;error&quot;: f&quot;Formato de edad inválido: {edad_input}&quot;}&#10;&#10;        # Convertir peso y altura usando las nuevas funciones&#10;        try:&#10;            peso = convertir_peso_a_float(peso_input)&#10;            altura = convertir_altura_a_metros(altura_input)&#10;        except ValueError as e:&#10;            return {&quot;error&quot;: str(e)}&#10;&#10;        # Calcular IMC&#10;        try:&#10;            imc = calcular_imc(peso, altura)&#10;        except ValueError as e:&#10;            return {&quot;error&quot;: str(e)}&#10;&#10;        # Cargar percentiles&#10;        df = cargar_percentiles(sexo)&#10;        if df is None:&#10;            return {&quot;error&quot;: &quot;No se pudieron cargar las tablas de percentiles&quot;}&#10;&#10;        # Buscar la fila más cercana a la edad en meses&#10;        if 'Month' not in df.columns:&#10;            return {&quot;error&quot;: &quot;Formato de tabla de percentiles inválido&quot;}&#10;&#10;        fila_edad = df.iloc[abs(df['Month'] - edad_meses).idxmin()]&#10;&#10;        # Verificar que las columnas necesarias existen&#10;        columnas_necesarias = ['L', 'M', 'S']&#10;        for col in columnas_necesarias:&#10;            if col not in df.columns:&#10;                return {&quot;error&quot;: f&quot;Columna '{col}' no encontrada en tabla de percentiles&quot;}&#10;&#10;        L = fila_edad['L']&#10;        M = fila_edad['M']&#10;        S = fila_edad['S']&#10;&#10;        # Calcular Z-score y percentil&#10;        z_score = (((imc / M)**L) - 1) / (L * S)&#10;        percentil = normal_cdf(z_score) * 100&#10;        interpretacion = interpretar_percentil(percentil)&#10;&#10;        return {&#10;            &quot;imc&quot;: round(imc, 2),&#10;            &quot;percentil&quot;: round(percentil, 1),&#10;            &quot;interpretacion&quot;: interpretacion,&#10;            &quot;edad_meses&quot;: edad_meses  # Información adicional útil&#10;        }&#10;&#10;    except Exception as e:&#10;        return {&quot;error&quot;: f&quot;Error inesperado en cálculo: {str(e)}&quot;}&#10;&#10;&#10;def calcular_imc_menor_por_fecha(sexo: str, fecha_nacimiento: str, peso_input, altura_input) -&gt; dict:&#10;    &quot;&quot;&quot;&#10;    Calcula el percentil de IMC para un menor usando fecha de nacimiento.&#10;&#10;    Args:&#10;        sexo: &quot;Masculino&quot; o &quot;Femenino&quot;&#10;        fecha_nacimiento: Fecha de nacimiento en formato DD/MM/YYYY o YYYY-MM-DD&#10;        peso_input: Peso en kg (acepta formatos variados)&#10;        altura_input: Altura en m o cm (acepta formatos variados)&#10;&#10;    Returns:&#10;        dict: {&quot;imc&quot;: float, &quot;percentil&quot;: float, &quot;interpretacion&quot;: str, &quot;edad_meses&quot;: int, &quot;edad_años&quot;: float} o {&quot;error&quot;: str}&#10;    &quot;&quot;&quot;&#10;    try:&#10;        # Validar sexo&#10;        if sexo not in [&quot;Masculino&quot;, &quot;Femenino&quot;]:&#10;            return {&quot;error&quot;: &quot;Sexo debe ser 'Masculino' o 'Femenino'&quot;}&#10;&#10;        # Calcular edad exacta en meses&#10;        try:&#10;            edad_meses = calcular_edad_exacta_en_meses(fecha_nacimiento)&#10;        except ValueError as e:&#10;            return {&quot;error&quot;: str(e)}&#10;&#10;        # Validar rango de edad (5-19 años = 60-228 meses)&#10;        if edad_meses &lt; 60:&#10;            edad_años = edad_meses / 12.0&#10;            return {&quot;error&quot;: f&quot;La edad debe ser mayor a 5 años (actualmente {edad_años:.1f} años)&quot;}&#10;        elif edad_meses &gt; 228:&#10;            edad_años = edad_meses / 12.0&#10;            return {&quot;error&quot;: f&quot;La edad debe ser menor a 19 años (actualmente {edad_años:.1f} años)&quot;}&#10;&#10;        # Convertir peso y altura usando las funciones existentes&#10;        try:&#10;            peso = convertir_peso_a_float(peso_input)&#10;            altura = convertir_altura_a_metros(altura_input)&#10;        except ValueError as e:&#10;            return {&quot;error&quot;: str(e)}&#10;&#10;        # Calcular IMC&#10;        try:&#10;            imc = calcular_imc(peso, altura)&#10;        except ValueError as e:&#10;            return {&quot;error&quot;: str(e)}&#10;&#10;        # Cargar percentiles&#10;        df = cargar_percentiles(sexo)&#10;        if df is None:&#10;            return {&quot;error&quot;: &quot;No se pudieron cargar las tablas de percentiles&quot;}&#10;&#10;        # Buscar la fila más cercana a la edad en meses&#10;        if 'Month' not in df.columns:&#10;            return {&quot;error&quot;: &quot;Formato de tabla de percentiles inválido&quot;}&#10;&#10;        fila_edad = df.iloc[abs(df['Month'] - edad_meses).idxmin()]&#10;&#10;        # Verificar que las columnas necesarias existen&#10;        columnas_necesarias = ['L', 'M', 'S']&#10;        for col in columnas_necesarias:&#10;            if col not in df.columns:&#10;                return {&quot;error&quot;: f&quot;Columna '{col}' no encontrada en tabla de percentiles&quot;}&#10;&#10;        L = fila_edad['L']&#10;        M = fila_edad['M']&#10;        S = fila_edad['S']&#10;&#10;        # Calcular Z-score y percentil&#10;        z_score = (((imc / M)**L) - 1) / (L * S)&#10;        percentil = normal_cdf(z_score) * 100&#10;        interpretacion = interpretar_percentil(percentil)&#10;&#10;        edad_años = edad_meses / 12.0&#10;&#10;        return {&#10;            &quot;imc&quot;: round(imc, 2),&#10;            &quot;percentil&quot;: round(percentil, 1),&#10;            &quot;interpretacion&quot;: interpretacion,&#10;            &quot;edad_meses&quot;: edad_meses,&#10;            &quot;edad_años&quot;: round(edad_años, 1)&#10;        }&#10;&#10;    except Exception as e:&#10;        return {&quot;error&quot;: f&quot;Error inesperado en cálculo: {str(e)}&quot;}&#10;" />
              <option name="updatedContent" value="###&#10;# Módulo específico para cálculos de IMC en menores (5-19 años)&#10;# Incluye cálculo de percentiles usando tablas de la OMS&#10;###&#10;&#10;import io&#10;import pandas as pd&#10;import math&#10;from java import jclass&#10;from utilidades import convertir_peso_a_float, convertir_altura_a_metros, calcular_imc, calcular_edad_exacta_en_meses&#10;&#10;&#10;def cargar_percentiles(sexo):&#10;    &quot;&quot;&quot;&#10;    Carga la tabla de percentiles para el sexo dado desde un archivo CSV&#10;    almacenado en los assets de la aplicación usando Chaquopy.&#10;    &quot;&quot;&quot;&#10;    nombre_archivo = (&#10;        'percentiles_imc_niños.csv' if sexo == 'Masculino' else&#10;        'percentiles_imc_niñas.csv'&#10;    )&#10;    try:&#10;        context = jclass(&quot;android.app.ActivityThread&quot;).currentApplication()&#10;        asset_manager = context.getAssets()&#10;        input_stream = asset_manager.open(nombre_archivo)&#10;&#10;        # Leer el contenido usando Java BufferedReader&#10;        BufferedReader = jclass(&quot;java.io.BufferedReader&quot;)&#10;        InputStreamReader = jclass(&quot;java.io.InputStreamReader&quot;)&#10;&#10;        reader = BufferedReader(InputStreamReader(input_stream, &quot;UTF-8&quot;))&#10;        contenido = &quot;&quot;&#10;        linea = reader.readLine()&#10;        while linea is not None:&#10;            contenido += linea + &quot;\n&quot;&#10;            linea = reader.readLine()&#10;&#10;        reader.close()&#10;        input_stream.close()&#10;&#10;        df = pd.read_csv(io.StringIO(contenido), sep=';', decimal=',')&#10;        return df&#10;    except Exception as e:&#10;        print(f&quot;Error al cargar el archivo CSV '{nombre_archivo}': {e}&quot;)&#10;        return None&#10;&#10;&#10;def normal_cdf(x, mu=0, sigma=1):&#10;    &quot;&quot;&quot;Función de distribución acumulada normal estándar.&quot;&quot;&quot;&#10;    return 0.5 * (1 + math.erf((x - mu) / (sigma * math.sqrt(2))))&#10;&#10;&#10;def interpretar_percentil(percentil):&#10;    &quot;&quot;&quot;Interpreta el percentil de IMC y devuelve un mensaje descriptivo.&quot;&quot;&quot;&#10;    if percentil &lt; 3:&#10;        return &quot;Bajo peso.&quot;&#10;    elif percentil &lt; 85:&#10;        return &quot;Peso saludable.&quot;&#10;    elif percentil &lt; 97:&#10;        return &quot;Sobrepeso.&quot;&#10;    else:&#10;        return &quot;Obesidad.&quot;&#10;&#10;&#10;def calcular_imc_menor(sexo: str, edad_input, peso_input, altura_input) -&gt; dict:&#10;    &quot;&quot;&quot;&#10;    Calcula el percentil de IMC para un menor usando las tablas de la OMS.&#10;    Acepta múltiples formatos para peso y altura, y convierte edad a meses automáticamente.&#10;&#10;    Args:&#10;        sexo: &quot;Masculino&quot; o &quot;Femenino&quot;&#10;        edad_input: Edad en años (int, float, string)&#10;        peso_input: Peso en kg (acepta formatos variados)&#10;        altura_input: Altura en m o cm (acepta formatos variados)&#10;&#10;    Returns:&#10;        dict: {&quot;imc&quot;: float, &quot;percentil&quot;: float, &quot;interpretacion&quot;: str} o {&quot;error&quot;: str}&#10;    &quot;&quot;&quot;&#10;    try:&#10;        # Validar sexo&#10;        if sexo not in [&quot;Masculino&quot;, &quot;Femenino&quot;]:&#10;            return {&quot;error&quot;: &quot;Sexo debe ser 'Masculino' o 'Femenino'&quot;}&#10;&#10;        # Convertir y validar edad&#10;        try:&#10;            if isinstance(edad_input, str):&#10;                edad = float(edad_input.replace(&quot;,&quot;, &quot;.&quot;))&#10;            else:&#10;                edad = float(edad_input)&#10;&#10;            if edad &lt; 5 or edad &gt; 19:&#10;                return {&quot;error&quot;: &quot;La edad debe estar entre 5 y 19 años&quot;}&#10;&#10;            edad_meses = int(edad * 12)&#10;&#10;        except (ValueError, TypeError):&#10;            return {&quot;error&quot;: f&quot;Formato de edad inválido: {edad_input}&quot;}&#10;&#10;        # Convertir peso y altura usando las nuevas funciones&#10;        try:&#10;            peso = convertir_peso_a_float(peso_input)&#10;            altura = convertir_altura_a_metros(altura_input)&#10;        except ValueError as e:&#10;            return {&quot;error&quot;: str(e)}&#10;&#10;        # Calcular IMC&#10;        try:&#10;            imc = calcular_imc(peso, altura)&#10;        except ValueError as e:&#10;            return {&quot;error&quot;: str(e)}&#10;&#10;        # Cargar percentiles&#10;        df = cargar_percentiles(sexo)&#10;        if df is None:&#10;            return {&quot;error&quot;: &quot;No se pudieron cargar las tablas de percentiles&quot;}&#10;&#10;        # Buscar la fila más cercana a la edad en meses&#10;        if 'Month' not in df.columns:&#10;            return {&quot;error&quot;: &quot;Formato de tabla de percentiles inválido&quot;}&#10;&#10;        fila_edad = df.iloc[abs(df['Month'] - edad_meses).idxmin()]&#10;&#10;        # Verificar que las columnas necesarias existen&#10;        columnas_necesarias = ['L', 'M', 'S']&#10;        for col in columnas_necesarias:&#10;            if col not in df.columns:&#10;                return {&quot;error&quot;: f&quot;Columna '{col}' no encontrada en tabla de percentiles&quot;}&#10;&#10;        L = fila_edad['L']&#10;        M = fila_edad['M']&#10;        S = fila_edad['S']&#10;&#10;        # Calcular Z-score y percentil&#10;        z_score = (((imc / M)**L) - 1) / (L * S)&#10;        percentil = normal_cdf(z_score) * 100&#10;        interpretacion = interpretar_percentil(percentil)&#10;&#10;        return {&#10;            &quot;imc&quot;: round(imc, 2),&#10;            &quot;percentil&quot;: round(percentil, 1),&#10;            &quot;interpretacion&quot;: interpretacion,&#10;            &quot;edad_meses&quot;: edad_meses  # Información adicional útil&#10;        }&#10;&#10;    except Exception as e:&#10;        return {&quot;error&quot;: f&quot;Error inesperado en cálculo: {str(e)}&quot;}&#10;&#10;&#10;def calcular_imc_menor_por_fecha(sexo: str, fecha_nacimiento: str, peso_input, altura_input) -&gt; dict:&#10;    &quot;&quot;&quot;&#10;    Calcula el percentil de IMC para un menor usando fecha de nacimiento.&#10;&#10;    Args:&#10;        sexo: &quot;Masculino&quot; o &quot;Femenino&quot;&#10;        fecha_nacimiento: Fecha de nacimiento en formato DD/MM/YYYY o YYYY-MM-DD&#10;        peso_input: Peso en kg (acepta formatos variados)&#10;        altura_input: Altura en m o cm (acepta formatos variados)&#10;&#10;    Returns:&#10;        dict: {&quot;imc&quot;: float, &quot;percentil&quot;: float, &quot;interpretacion&quot;: str, &quot;edad_meses&quot;: int, &quot;edad_años&quot;: float} o {&quot;error&quot;: str}&#10;    &quot;&quot;&quot;&#10;    try:&#10;        # Validar sexo&#10;        if sexo not in [&quot;Masculino&quot;, &quot;Femenino&quot;]:&#10;            return {&quot;error&quot;: &quot;Sexo debe ser 'Masculino' o 'Femenino'&quot;}&#10;&#10;        # Calcular edad exacta en meses&#10;        try:&#10;            edad_meses = calcular_edad_exacta_en_meses(fecha_nacimiento)&#10;        except ValueError as e:&#10;            return {&quot;error&quot;: str(e)}&#10;&#10;        # Validar rango de edad (5-19 años = 60-228 meses)&#10;        if edad_meses &lt; 60:&#10;            edad_años = edad_meses / 12.0&#10;            return {&quot;error&quot;: f&quot;La edad debe ser mayor a 5 años (actualmente {edad_años:.1f} años)&quot;}&#10;        elif edad_meses &gt; 228:&#10;            edad_años = edad_meses / 12.0&#10;            return {&quot;error&quot;: f&quot;La edad debe ser menor a 19 años (actualmente {edad_años:.1f} años)&quot;}&#10;&#10;        # Convertir peso y altura usando las funciones existentes&#10;        try:&#10;            peso = convertir_peso_a_float(peso_input)&#10;            altura = convertir_altura_a_metros(altura_input)&#10;        except ValueError as e:&#10;            return {&quot;error&quot;: str(e)}&#10;&#10;        # Calcular IMC&#10;        try:&#10;            imc = calcular_imc(peso, altura)&#10;        except ValueError as e:&#10;            return {&quot;error&quot;: str(e)}&#10;&#10;        # Cargar percentiles&#10;        df = cargar_percentiles(sexo)&#10;        if df is None:&#10;            return {&quot;error&quot;: &quot;No se pudieron cargar las tablas de percentiles&quot;}&#10;&#10;        # Buscar la fila más cercana a la edad en meses&#10;        if 'Month' not in df.columns:&#10;            return {&quot;error&quot;: &quot;Formato de tabla de percentiles inválido&quot;}&#10;&#10;        fila_edad = df.iloc[abs(df['Month'] - edad_meses).idxmin()]&#10;&#10;        # Verificar que las columnas necesarias existen&#10;        columnas_necesarias = ['L', 'M', 'S']&#10;        for col in columnas_necesarias:&#10;            if col not in df.columns:&#10;                return {&quot;error&quot;: f&quot;Columna '{col}' no encontrada en tabla de percentiles&quot;}&#10;&#10;        L = fila_edad['L']&#10;        M = fila_edad['M']&#10;        S = fila_edad['S']&#10;&#10;        # Calcular Z-score y percentil&#10;        z_score = (((imc / M)**L) - 1) / (L * S)&#10;        percentil = normal_cdf(z_score) * 100&#10;        interpretacion = interpretar_percentil(percentil)&#10;&#10;        edad_años = edad_meses / 12.0&#10;&#10;        return {&#10;            &quot;imc&quot;: round(imc, 2),&#10;            &quot;percentil&quot;: round(percentil, 1),&#10;            &quot;interpretacion&quot;: interpretacion,&#10;            &quot;edad_meses&quot;: edad_meses,&#10;            &quot;edad_años&quot;: round(edad_años, 1)&#10;        }&#10;&#10;    except Exception as e:&#10;        return {&quot;error&quot;: f&quot;Error inesperado en cálculo: {str(e)}&quot;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/python/funciones_barra_percentiles.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/python/funciones_barra_percentiles.py" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/python/funciones_imc_android.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/python/funciones_imc_android.py" />
              <option name="originalContent" value="###&#10;# Archivo principal de la aplicación IMC para Android con Chaquopy&#10;# Este archivo mantiene la interfaz pública para compatibilidad con Kotlin&#10;# Las funciones están organizadas en módulos separados para mejor mantenimiento&#10;###&#10;&#10;# Importar todas las funciones de los módulos especializados&#10;from .utilidades import (&#10;    convertir_altura_a_metros,&#10;    convertir_peso_a_float,&#10;    calcular_imc,&#10;    obtener_fecha,&#10;    inicializar_base_de_datos,&#10;    guardar_medicion,&#10;    mostrar_historial,&#10;    borrar_historial_adultos,&#10;    borrar_historial_menores,&#10;    obtener_datos_para_grafico,&#10;    calcular_edad_exacta_en_meses&#10;)&#10;&#10;from .calculos_adultos import (&#10;    interpretar_imc,&#10;    obtener_rangos_imc,&#10;    calcular_posicion_en_barra,&#10;    obtener_categoria_imc&#10;)&#10;&#10;from .calculos_menores import (&#10;    cargar_percentiles,&#10;    normal_cdf,&#10;    interpretar_percentil,&#10;    calcular_imc_menor,&#10;    calcular_imc_menor_por_fecha&#10;)&#10;&#10;# Re-exportar todas las funciones para mantener compatibilidad&#10;# Esto asegura que Kotlin pueda seguir llamando las funciones como antes&#10;__all__ = [&#10;    # Utilidades generales&#10;    'convertir_altura_a_metros',&#10;    'convertir_peso_a_float',&#10;    'calcular_imc',&#10;    'obtener_fecha',&#10;    'inicializar_base_de_datos',&#10;    'guardar_medicion',&#10;    'mostrar_historial',&#10;    'borrar_historial_adultos',&#10;    'borrar_historial_menores',&#10;    'obtener_datos_para_grafico',&#10;    'calcular_edad_exacta_en_meses',&#10;&#10;    # Funciones para adultos&#10;    'interpretar_imc',&#10;    'obtener_rangos_imc',&#10;    'calcular_posicion_en_barra',&#10;    'obtener_categoria_imc',&#10;&#10;    # Funciones para menores&#10;    'cargar_percentiles',&#10;    'normal_cdf',&#10;    'interpretar_percentil',&#10;    'calcular_imc_menor',&#10;    'calcular_imc_menor_por_fecha'&#10;]&#10;" />
              <option name="updatedContent" value="###&#10;# Archivo principal de la aplicación IMC para Android con Chaquopy&#10;# Este archivo mantiene la interfaz pública para compatibilidad con Kotlin&#10;# Las funciones están organizadas en módulos separados para mejor mantenimiento&#10;###&#10;&#10;# Importar todas las funciones de los módulos especializados usando importaciones absolutas&#10;from utilidades import (&#10;    convertir_altura_a_metros,&#10;    convertir_peso_a_float,&#10;    calcular_imc,&#10;    obtener_fecha,&#10;    inicializar_base_de_datos,&#10;    guardar_medicion,&#10;    mostrar_historial,&#10;    borrar_historial_adultos,&#10;    borrar_historial_menores,&#10;    obtener_datos_para_grafico,&#10;    calcular_edad_exacta_en_meses&#10;)&#10;&#10;from calculos_adultos import (&#10;    interpretar_imc,&#10;    obtener_rangos_imc,&#10;    calcular_posicion_en_barra,&#10;    obtener_categoria_imc&#10;)&#10;&#10;from calculos_menores import (&#10;    cargar_percentiles,&#10;    normal_cdf,&#10;    interpretar_percentil,&#10;    calcular_imc_menor,&#10;    calcular_imc_menor_por_fecha&#10;)&#10;&#10;# Re-exportar todas las funciones para mantener compatibilidad&#10;# Esto asegura que Kotlin pueda seguir llamando las funciones como antes&#10;__all__ = [&#10;    # Utilidades generales&#10;    'convertir_altura_a_metros',&#10;    'convertir_peso_a_float',&#10;    'calcular_imc',&#10;    'obtener_fecha',&#10;    'inicializar_base_de_datos',&#10;    'guardar_medicion',&#10;    'mostrar_historial',&#10;    'borrar_historial_adultos',&#10;    'borrar_historial_menores',&#10;    'obtener_datos_para_grafico',&#10;    'calcular_edad_exacta_en_meses',&#10;&#10;    # Funciones para adultos&#10;    'interpretar_imc',&#10;    'obtener_rangos_imc',&#10;    'calcular_posicion_en_barra',&#10;    'obtener_categoria_imc',&#10;&#10;    # Funciones para menores&#10;    'cargar_percentiles',&#10;    'normal_cdf',&#10;    'interpretar_percentil',&#10;    'calcular_imc_menor',&#10;    'calcular_imc_menor_por_fecha'&#10;]" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/python/utilidades.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/python/utilidades.py" />
              <option name="updatedContent" value="###&#10;# Módulo de utilidades generales para la aplicación IMC&#10;# Funciones de conversión, validación y utilidades compartidas&#10;###&#10;&#10;import sqlite3&#10;from datetime import datetime&#10;import re&#10;&#10;&#10;def convertir_altura_a_metros(altura_input):&#10;    &quot;&quot;&quot;&#10;    Convierte diferentes formatos de altura a metros.&#10;    Acepta: string, int, float&#10;    Formatos: &quot;170&quot;, &quot;1.70&quot;, &quot;1,70&quot;, 170, 1.70, etc.&#10;    &quot;&quot;&quot;&#10;    try:&#10;        # Si ya es un número, trabajamos con él&#10;        if isinstance(altura_input, (int, float)):&#10;            valor = float(altura_input)&#10;        else:&#10;            # Si es string, limpiamos y convertimos&#10;            altura_str = str(altura_input).replace(&quot;,&quot;, &quot;.&quot;).strip()&#10;            valor = float(altura_str)&#10;&#10;        # Si es mayor a 10, asumimos centímetros y convertimos a metros&#10;        if valor &gt; 10:&#10;            return valor / 100.0  # 170 -&gt; 1.70&#10;        else:&#10;            return valor  # 1.70 -&gt; 1.70&#10;&#10;    except (ValueError, TypeError):&#10;        raise ValueError(f&quot;Formato de altura inválido: {altura_input}&quot;)&#10;&#10;&#10;def convertir_peso_a_float(peso_input):&#10;    &quot;&quot;&quot;&#10;    Convierte diferentes formatos de peso a float.&#10;    Acepta: string, int, float con punto o coma decimal.&#10;    &quot;&quot;&quot;&#10;    try:&#10;        if isinstance(peso_input, (int, float)):&#10;            return float(peso_input)&#10;        else:&#10;            peso_str = str(peso_input).replace(&quot;,&quot;, &quot;.&quot;).strip()&#10;            return float(peso_str)&#10;    except (ValueError, TypeError):&#10;        raise ValueError(f&quot;Formato de peso inválido: {peso_input}&quot;)&#10;&#10;&#10;def calcular_imc(peso_input, altura_input):&#10;    &quot;&quot;&quot;&#10;    Calcula el Índice de Masa Corporal (IMC) usando peso y altura.&#10;    Acepta múltiples formatos de entrada y los convierte automáticamente.&#10;    &quot;&quot;&quot;&#10;    try:&#10;        peso = convertir_peso_a_float(peso_input)&#10;        altura = convertir_altura_a_metros(altura_input)&#10;&#10;        if peso &lt;= 0:&#10;            raise ValueError(&quot;El peso debe ser mayor a 0&quot;)&#10;        if altura &lt;= 0:&#10;            raise ValueError(&quot;La altura debe ser mayor a 0&quot;)&#10;&#10;        # Validaciones adicionales de rangos razonables&#10;        if peso &gt; 1000:  # 1000 kg es irreal&#10;            raise ValueError(&quot;Peso fuera de rango válido&quot;)&#10;        if altura &gt; 3.0:  # 3 metros es irreal&#10;            raise ValueError(&quot;Altura fuera de rango válido&quot;)&#10;&#10;        return round(peso / (altura ** 2), 2)&#10;&#10;    except ValueError as e:&#10;        raise ValueError(f&quot;Error en cálculo de IMC: {str(e)}&quot;)&#10;&#10;&#10;def obtener_fecha():&#10;    &quot;&quot;&quot;Función para usar la fecha en la que se hacen las mediciones.&quot;&quot;&quot;&#10;    return datetime.now().strftime(&quot;%d-%m-%Y %H:%M:%S&quot;)&#10;&#10;&#10;def inicializar_base_de_datos():&#10;    &quot;&quot;&quot;&#10;    Configura la tabla 'perfiles' en una conexión existente si no existe.&#10;    También se asegura de que las columnas para el cálculo de menores&#10;    estén presentes.&#10;    &quot;&quot;&quot;&#10;    with sqlite3.connect('historial_imc.db') as conexion:&#10;        cur = conexion.cursor()&#10;        cur.execute(&quot;&quot;&quot;&#10;            CREATE TABLE IF NOT EXISTS perfiles(&#10;                id INTEGER PRIMARY KEY AUTOINCREMENT,&#10;                peso REAL,&#10;                altura REAL,&#10;                imc REAL,&#10;                fecha TEXT&#10;            )&#10;        &quot;&quot;&quot;)&#10;&#10;        # Verificar y añadir columnas para el cálculo de menores si no existen&#10;        cur.execute(&quot;PRAGMA table_info(perfiles)&quot;)&#10;        columnas = [info[1] for info in cur.fetchall()]&#10;&#10;        if 'sexo' not in columnas:&#10;            cur.execute(&quot;ALTER TABLE perfiles ADD COLUMN sexo TEXT&quot;)&#10;&#10;        if 'edad_meses' not in columnas:&#10;            cur.execute(&quot;ALTER TABLE perfiles ADD COLUMN edad_meses INTEGER&quot;)&#10;&#10;        if 'percentil' not in columnas:&#10;            cur.execute(&quot;ALTER TABLE perfiles ADD COLUMN percentil REAL&quot;)&#10;&#10;        conexion.commit()&#10;&#10;&#10;def guardar_medicion(peso, altura, imc, sexo=None, edad_meses=None, percentil=None):&#10;    &quot;&quot;&quot;&#10;    Aquí guardamos la medición del usuario.&#10;    Incluye campos opcionales para sexo, edad y percentil para menores.&#10;    &quot;&quot;&quot;&#10;    inicializar_base_de_datos()&#10;    fecha = obtener_fecha()&#10;    with sqlite3.connect('historial_imc.db') as conexion:&#10;        cur = conexion.cursor()&#10;        cur.execute(&quot;&quot;&quot;&#10;                INSERT INTO perfiles (peso, altura, imc, fecha, sexo, edad_meses, percentil)&#10;                VALUES (?, ?, ?, ?, ?, ?, ?)&#10;                &quot;&quot;&quot;, (peso, altura, imc, fecha, sexo, edad_meses, percentil))&#10;&#10;        conexion.commit()&#10;&#10;&#10;def mostrar_historial(tipo_historial: str) -&gt; list[dict]:&#10;    &quot;&quot;&quot;&#10;    Busca los perfiles guardados en la base de datos y devuelve una&#10;    lista de diccionarios con el historial.&#10;&#10;    Args:&#10;        tipo_historial (str): 'adultos' o 'menores'.&#10;    &quot;&quot;&quot;&#10;    inicializar_base_de_datos()&#10;    with sqlite3.connect('historial_imc.db') as conexion:&#10;        cur = conexion.cursor()&#10;        if tipo_historial == 'adultos':&#10;            cur.execute(&#10;                'SELECT peso, altura, imc, fecha FROM perfiles WHERE sexo IS NULL ORDER BY fecha DESC')&#10;        else:&#10;            cur.execute(&#10;                'SELECT peso, altura, imc, fecha, sexo, edad_meses, percentil FROM perfiles WHERE sexo IS NOT NULL ORDER BY fecha DESC')&#10;        datos = cur.fetchall()&#10;&#10;    historial_list = []&#10;    for d in datos:&#10;        record = {&#10;            &quot;peso&quot;: d[0],&#10;            &quot;altura&quot;: d[1],&#10;            &quot;imc&quot;: d[2],&#10;            &quot;fecha&quot;: d[3]&#10;        }&#10;        if tipo_historial == 'menores':&#10;            record[&quot;sexo&quot;] = d[4]&#10;            record[&quot;edad_meses&quot;] = d[5]&#10;            record[&quot;percentil&quot;] = d[6]&#10;        historial_list.append(record)&#10;    return historial_list&#10;&#10;&#10;def borrar_historial_adultos():&#10;    &quot;&quot;&quot;&#10;    Borra todos los registros de IMC de adultos (donde sexo es NULL) de la base de datos.&#10;    &quot;&quot;&quot;&#10;    inicializar_base_de_datos()&#10;    with sqlite3.connect('historial_imc.db') as conexion:&#10;        cur = conexion.cursor()&#10;        cur.execute(&quot;DELETE FROM perfiles WHERE sexo IS NULL&quot;)&#10;        conexion.commit()&#10;&#10;&#10;def borrar_historial_menores():&#10;    &quot;&quot;&quot;&#10;    Borra todos los registros de IMC de menores (donde sexo NO es NULL) de la base de datos.&#10;    &quot;&quot;&quot;&#10;    inicializar_base_de_datos()&#10;    with sqlite3.connect('historial_imc.db') as conexion:&#10;        cur = conexion.cursor()&#10;        cur.execute(&quot;DELETE FROM perfiles WHERE sexo IS NOT NULL&quot;)&#10;        conexion.commit()&#10;&#10;&#10;def obtener_datos_para_grafico(tipo_historial):&#10;    &quot;&quot;&quot;&#10;    Obtiene fechas e IMCs de la base de datos para un tipo de historial.&#10;&#10;    Args:&#10;        tipo_historial (str): 'adultos' o 'menores'.&#10;&#10;    Returns:&#10;        tuple: Dos listas, una de fechas (datetime) y otra de IMCs (float).&#10;    &quot;&quot;&quot;&#10;    inicializar_base_de_datos()&#10;    with sqlite3.connect('historial_imc.db') as conexion:&#10;        cur = conexion.cursor()&#10;        if tipo_historial == 'adultos':&#10;            query = &quot;SELECT fecha, imc FROM perfiles WHERE sexo IS NULL ORDER BY fecha ASC&quot;&#10;        else:  # 'menores'&#10;            query = &quot;SELECT fecha, percentil FROM perfiles WHERE sexo IS NOT NULL ORDER BY fecha ASC&quot;&#10;        cur.execute(query)&#10;        datos = cur.fetchall()&#10;&#10;    if not datos:&#10;        return [], []&#10;&#10;    datos_desempaquetados = []&#10;    for fecha_str, valor in datos:&#10;        try:&#10;            # Aseguramos que la fecha se pueda parsear&#10;            fecha_dt = datetime.strptime(fecha_str, &quot;%d-%m-%Y %H:%M:%S&quot;)&#10;            # Ignoramos valores nulos que podrían estar en la BD&#10;            if valor is not None:&#10;                datos_desempaquetados.append((fecha_dt, valor))&#10;        except (ValueError, TypeError):&#10;            # Ignoramos registros con fecha inválida para el gráfico&#10;            continue&#10;&#10;    if not datos_desempaquetados:&#10;        return [], []&#10;&#10;    # Ordenamos por fecha por si la base de datos no lo hizo&#10;    datos_ordenados = sorted(datos_desempaquetados, key=lambda x: x[0])&#10;&#10;    fechas = [d[0] for d in datos_ordenados]&#10;    valores = [d[1] for d in datos_ordenados]&#10;&#10;    return fechas, valores&#10;&#10;&#10;def calcular_edad_exacta_en_meses(fecha_nacimiento_str):&#10;    &quot;&quot;&quot;&#10;    Calcula la edad exacta en meses desde la fecha de nacimiento hasta hoy.&#10;&#10;    Args:&#10;        fecha_nacimiento_str: Fecha en formato &quot;YYYY-MM-DD&quot; o &quot;DD/MM/YYYY&quot;&#10;&#10;    Returns:&#10;        int: Edad en meses completos&#10;    &quot;&quot;&quot;&#10;&#10;    try:&#10;        # Intentar diferentes formatos de fecha&#10;        fecha_str = fecha_nacimiento_str.strip()&#10;&#10;        # Formato ISO: YYYY-MM-DD&#10;        if re.match(r'^\d{4}-\d{2}-\d{2}$', fecha_str):&#10;            fecha_nacimiento = datetime.strptime(fecha_str, &quot;%Y-%m-%d&quot;)&#10;        # Formato DD/MM/YYYY&#10;        elif re.match(r'^\d{1,2}/\d{1,2}/\d{4}$', fecha_str):&#10;            fecha_nacimiento = datetime.strptime(fecha_str, &quot;%d/%m/%Y&quot;)&#10;        # Formato DD-MM-YYYY&#10;        elif re.match(r'^\d{1,2}-\d{1,2}-\d{4}$', fecha_str):&#10;            fecha_nacimiento = datetime.strptime(fecha_str, &quot;%d-%m-%Y&quot;)&#10;        else:&#10;            raise ValueError(f&quot;Formato de fecha no válido. Use DD/MM/YYYY o YYYY-MM-DD&quot;)&#10;&#10;        # Calcular edad exacta&#10;        fecha_actual = datetime.now()&#10;&#10;        # Verificar que la fecha de nacimiento no sea futura&#10;        if fecha_nacimiento &gt; fecha_actual:&#10;            raise ValueError(&quot;La fecha de nacimiento no puede ser en el futuro&quot;)&#10;&#10;        # Calcular diferencia en meses&#10;        meses_diferencia = (fecha_actual.year - fecha_nacimiento.year) * 12 + (fecha_actual.month - fecha_nacimiento.month)&#10;&#10;        # Si aún no ha cumplido el mes, restar 1&#10;        if fecha_actual.day &lt; fecha_nacimiento.day:&#10;            meses_diferencia -= 1&#10;&#10;        return meses_diferencia&#10;&#10;    except ValueError as e:&#10;        raise ValueError(f&quot;Error procesando fecha de nacimiento: {str(e)}&quot;)" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/fragment_dashboard.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/fragment_dashboard.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    tools:context=&quot;.ui.dashboard.DashboardFragment&quot;&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/text_dashboard&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_marginStart=&quot;8dp&quot;&#10;        android:layout_marginTop=&quot;8dp&quot;&#10;        android:layout_marginEnd=&quot;8dp&quot;&#10;        android:textAlignment=&quot;center&quot;&#10;        android:textSize=&quot;20sp&quot;&#10;        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;&#10;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:background=&quot;#FFFFFF&quot;&#10;    tools:context=&quot;.ui.dashboard.DashboardFragment&quot;&gt;&#10;&#10;    &lt;LinearLayout&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:orientation=&quot;vertical&quot;&#10;        android:padding=&quot;24dp&quot;&gt;&#10;&#10;        &lt;!-- Título --&gt;&#10;        &lt;TextView&#10;            android:id=&quot;@+id/tv_titulo&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:text=&quot;Calculadora IMC 5-19 Años&quot;&#10;            android:textSize=&quot;28sp&quot;&#10;            android:textStyle=&quot;bold&quot;&#10;            android:textColor=&quot;#2E7D32&quot;&#10;            android:textAlignment=&quot;center&quot;&#10;            android:layout_marginBottom=&quot;32dp&quot; /&gt;&#10;&#10;        &lt;!-- Card para los inputs --&gt;&#10;        &lt;androidx.cardview.widget.CardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginBottom=&quot;24dp&quot;&#10;            app:cardCornerRadius=&quot;16dp&quot;&#10;            app:cardElevation=&quot;8dp&quot;&#10;            app:cardBackgroundColor=&quot;#F1F8E9&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;24dp&quot;&gt;&#10;&#10;                &lt;!-- Campo Peso --&gt;&#10;                &lt;com.google.android.material.textfield.TextInputLayout&#10;                    android:id=&quot;@+id/til_peso&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginBottom=&quot;16dp&quot;&#10;                    app:boxStrokeColor=&quot;#4CAF50&quot;&#10;                    app:hintTextColor=&quot;#2E7D32&quot;&#10;                    android:hint=&quot;Peso (kg)&quot;&gt;&#10;&#10;                    &lt;com.google.android.material.textfield.TextInputEditText&#10;                        android:id=&quot;@+id/et_peso&quot;&#10;                        android:layout_width=&quot;match_parent&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:inputType=&quot;numberDecimal&quot;&#10;                        android:textColor=&quot;#2E7D32&quot;&#10;                        android:textSize=&quot;18sp&quot; /&gt;&#10;                &lt;/com.google.android.material.textfield.TextInputLayout&gt;&#10;&#10;                &lt;!-- Campo Altura --&gt;&#10;                &lt;com.google.android.material.textfield.TextInputLayout&#10;                    android:id=&quot;@+id/til_altura&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginBottom=&quot;16dp&quot;&#10;                    app:boxStrokeColor=&quot;#4CAF50&quot;&#10;                    app:hintTextColor=&quot;#2E7D32&quot;&#10;                    android:hint=&quot;Altura (m)&quot;&gt;&#10;&#10;                    &lt;com.google.android.material.textfield.TextInputEditText&#10;                        android:id=&quot;@+id/et_altura&quot;&#10;                        android:layout_width=&quot;match_parent&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:inputType=&quot;numberDecimal&quot;&#10;                        android:textColor=&quot;#2E7D32&quot;&#10;                        android:textSize=&quot;18sp&quot; /&gt;&#10;                &lt;/com.google.android.material.textfield.TextInputLayout&gt;&#10;&#10;                &lt;!-- Campo Edad --&gt;&#10;                &lt;com.google.android.material.textfield.TextInputLayout&#10;                    android:id=&quot;@+id/til_edad&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginBottom=&quot;16dp&quot;&#10;                    app:boxStrokeColor=&quot;#4CAF50&quot;&#10;                    app:hintTextColor=&quot;#2E7D32&quot;&#10;                    android:hint=&quot;Edad (años)&quot;&gt;&#10;&#10;                    &lt;com.google.android.material.textfield.TextInputEditText&#10;                        android:id=&quot;@+id/et_edad&quot;&#10;                        android:layout_width=&quot;match_parent&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:inputType=&quot;number&quot;&#10;                        android:textColor=&quot;#2E7D32&quot;&#10;                        android:textSize=&quot;18sp&quot; /&gt;&#10;                &lt;/com.google.android.material.textfield.TextInputLayout&gt;&#10;&#10;                &lt;!-- Selector de Sexo --&gt;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Sexo&quot;&#10;                    android:textSize=&quot;16sp&quot;&#10;                    android:textColor=&quot;#2E7D32&quot;&#10;                    android:layout_marginBottom=&quot;8dp&quot; /&gt;&#10;&#10;                &lt;RadioGroup&#10;                    android:id=&quot;@+id/rg_sexo&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:orientation=&quot;horizontal&quot;&#10;                    android:layout_marginBottom=&quot;24dp&quot;&gt;&#10;&#10;                    &lt;RadioButton&#10;                        android:id=&quot;@+id/rb_masculino&quot;&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:text=&quot;Masculino&quot;&#10;                        android:textColor=&quot;#2E7D32&quot;&#10;                        android:buttonTint=&quot;#4CAF50&quot;&#10;                        android:checked=&quot;true&quot; /&gt;&#10;&#10;                    &lt;RadioButton&#10;                        android:id=&quot;@+id/rb_femenino&quot;&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:text=&quot;Femenino&quot;&#10;                        android:textColor=&quot;#2E7D32&quot;&#10;                        android:buttonTint=&quot;#4CAF50&quot; /&gt;&#10;                &lt;/RadioGroup&gt;&#10;&#10;                &lt;!-- Botón Calcular --&gt;&#10;                &lt;com.google.android.material.button.MaterialButton&#10;                    android:id=&quot;@+id/btn_calcular&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;56dp&quot;&#10;                    android:text=&quot;Calcular Percentil&quot;&#10;                    android:textSize=&quot;18sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    app:backgroundTint=&quot;#4CAF50&quot;&#10;                    app:cornerRadius=&quot;28dp&quot;&#10;                    android:textColor=&quot;#FFFFFF&quot; /&gt;&#10;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;        &lt;!-- Card para los resultados --&gt;&#10;        &lt;androidx.cardview.widget.CardView&#10;            android:id=&quot;@+id/card_resultado&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginBottom=&quot;24dp&quot;&#10;            android:visibility=&quot;gone&quot;&#10;            app:cardCornerRadius=&quot;16dp&quot;&#10;            app:cardElevation=&quot;8dp&quot;&#10;            app:cardBackgroundColor=&quot;#E8F5E8&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;24dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Resultado&quot;&#10;                    android:textSize=&quot;20sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;#2E7D32&quot;&#10;                    android:textAlignment=&quot;center&quot;&#10;                    android:layout_marginBottom=&quot;16dp&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tv_imc_valor&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;IMC: --&quot;&#10;                    android:textSize=&quot;22sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;#1B5E20&quot;&#10;                    android:textAlignment=&quot;center&quot;&#10;                    android:layout_marginBottom=&quot;8dp&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tv_percentil&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Percentil: --&quot;&#10;                    android:textSize=&quot;20sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;#1B5E20&quot;&#10;                    android:textAlignment=&quot;center&quot;&#10;                    android:layout_marginBottom=&quot;8dp&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tv_interpretacion&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;&quot;&#10;                    android:textSize=&quot;18sp&quot;&#10;                    android:textColor=&quot;#2E7D32&quot;&#10;                    android:textAlignment=&quot;center&quot;&#10;                    android:layout_marginBottom=&quot;16dp&quot; /&gt;&#10;&#10;                &lt;!-- Botón Guardar --&gt;&#10;                &lt;com.google.android.material.button.MaterialButton&#10;                    android:id=&quot;@+id/btn_guardar&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;48dp&quot;&#10;                    android:text=&quot;Guardar en Historial&quot;&#10;                    android:textSize=&quot;16sp&quot;&#10;                    app:backgroundTint=&quot;#66BB6A&quot;&#10;                    app:cornerRadius=&quot;24dp&quot;&#10;                    android:textColor=&quot;#FFFFFF&quot; /&gt;&#10;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;    &lt;/LinearLayout&gt;&#10;&lt;/ScrollView&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/fragment_home.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/fragment_home.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/text_home&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_marginStart=&quot;8dp&quot;&#10;        android:layout_marginTop=&quot;8dp&quot;&#10;        android:layout_marginEnd=&quot;8dp&quot;&#10;        android:textAlignment=&quot;center&quot;&#10;        android:textSize=&quot;20sp&quot;&#10;        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;&#10;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:background=&quot;#FFFFFF&quot;&#10;    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;&#10;&#10;    &lt;LinearLayout&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:orientation=&quot;vertical&quot;&#10;        android:padding=&quot;24dp&quot;&gt;&#10;&#10;        &lt;!-- Título --&gt;&#10;        &lt;TextView&#10;            android:id=&quot;@+id/tv_titulo&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:text=&quot;Calculadora IMC Adultos&quot;&#10;            android:textSize=&quot;28sp&quot;&#10;            android:textStyle=&quot;bold&quot;&#10;            android:textColor=&quot;#2E7D32&quot;&#10;            android:textAlignment=&quot;center&quot;&#10;            android:layout_marginBottom=&quot;32dp&quot; /&gt;&#10;&#10;        &lt;!-- Card para los inputs --&gt;&#10;        &lt;androidx.cardview.widget.CardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginBottom=&quot;24dp&quot;&#10;            app:cardCornerRadius=&quot;16dp&quot;&#10;            app:cardElevation=&quot;8dp&quot;&#10;            app:cardBackgroundColor=&quot;#F1F8E9&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;24dp&quot;&gt;&#10;&#10;                &lt;!-- Campo Peso --&gt;&#10;                &lt;com.google.android.material.textfield.TextInputLayout&#10;                    android:id=&quot;@+id/til_peso&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginBottom=&quot;16dp&quot;&#10;                    app:boxStrokeColor=&quot;#4CAF50&quot;&#10;                    app:hintTextColor=&quot;#2E7D32&quot;&#10;                    android:hint=&quot;Peso (kg)&quot;&gt;&#10;&#10;                    &lt;com.google.android.material.textfield.TextInputEditText&#10;                        android:id=&quot;@+id/et_peso&quot;&#10;                        android:layout_width=&quot;match_parent&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:inputType=&quot;numberDecimal&quot;&#10;                        android:textColor=&quot;#2E7D32&quot;&#10;                        android:textSize=&quot;18sp&quot; /&gt;&#10;                &lt;/com.google.android.material.textfield.TextInputLayout&gt;&#10;&#10;                &lt;!-- Campo Altura --&gt;&#10;                &lt;com.google.android.material.textfield.TextInputLayout&#10;                    android:id=&quot;@+id/til_altura&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginBottom=&quot;24dp&quot;&#10;                    app:boxStrokeColor=&quot;#4CAF50&quot;&#10;                    app:hintTextColor=&quot;#2E7D32&quot;&#10;                    android:hint=&quot;Altura (m)&quot;&gt;&#10;&#10;                    &lt;com.google.android.material.textfield.TextInputEditText&#10;                        android:id=&quot;@+id/et_altura&quot;&#10;                        android:layout_width=&quot;match_parent&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:inputType=&quot;numberDecimal&quot;&#10;                        android:textColor=&quot;#2E7D32&quot;&#10;                        android:textSize=&quot;18sp&quot; /&gt;&#10;                &lt;/com.google.android.material.textfield.TextInputLayout&gt;&#10;&#10;                &lt;!-- Botón Calcular --&gt;&#10;                &lt;com.google.android.material.button.MaterialButton&#10;                    android:id=&quot;@+id/btn_calcular&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;56dp&quot;&#10;                    android:text=&quot;Calcular IMC&quot;&#10;                    android:textSize=&quot;18sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    app:backgroundTint=&quot;#4CAF50&quot;&#10;                    app:cornerRadius=&quot;28dp&quot;&#10;                    android:textColor=&quot;#FFFFFF&quot; /&gt;&#10;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;        &lt;!-- Card para los resultados --&gt;&#10;        &lt;androidx.cardview.widget.CardView&#10;            android:id=&quot;@+id/card_resultado&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginBottom=&quot;24dp&quot;&#10;            android:visibility=&quot;gone&quot;&#10;            app:cardCornerRadius=&quot;16dp&quot;&#10;            app:cardElevation=&quot;8dp&quot;&#10;            app:cardBackgroundColor=&quot;#E8F5E8&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;24dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Resultado&quot;&#10;                    android:textSize=&quot;20sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;#2E7D32&quot;&#10;                    android:textAlignment=&quot;center&quot;&#10;                    android:layout_marginBottom=&quot;16dp&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tv_imc_valor&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;IMC: --&quot;&#10;                    android:textSize=&quot;24sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;#1B5E20&quot;&#10;                    android:textAlignment=&quot;center&quot;&#10;                    android:layout_marginBottom=&quot;8dp&quot; /&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tv_interpretacion&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;&quot;&#10;                    android:textSize=&quot;18sp&quot;&#10;                    android:textColor=&quot;#2E7D32&quot;&#10;                    android:textAlignment=&quot;center&quot;&#10;                    android:layout_marginBottom=&quot;16dp&quot; /&gt;&#10;&#10;                &lt;!-- Botón Guardar --&gt;&#10;                &lt;com.google.android.material.button.MaterialButton&#10;                    android:id=&quot;@+id/btn_guardar&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;48dp&quot;&#10;                    android:text=&quot;Guardar en Historial&quot;&#10;                    android:textSize=&quot;16sp&quot;&#10;                    app:backgroundTint=&quot;#66BB6A&quot;&#10;                    app:cornerRadius=&quot;24dp&quot;&#10;                    android:textColor=&quot;#FFFFFF&quot; /&gt;&#10;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/androidx.cardview.widget.CardView&gt;&#10;&#10;    &lt;/LinearLayout&gt;&#10;&lt;/ScrollView&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>