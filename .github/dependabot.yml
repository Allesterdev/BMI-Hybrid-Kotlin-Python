version: 2
updates:
  # ============================================
  # GRADLE DEPENDENCIES (Android/Kotlin)
  # ============================================
  - package-ecosystem: "gradle"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
    open-pull-requests-limit: 5

    # ðŸ”’ IGNORAR actualizaciones PELIGROSAS que pueden romper la app
    ignore:
      # Android Gradle Plugin - Solo actualizar parches
      - dependency-name: "com.android.tools.build:gradle"
        update-types: ["version-update:semver-major", "version-update:semver-minor"]

      # Chaquopy - Actualizaciones mayores pueden romper Python
      - dependency-name: "com.chaquo.python:gradle"
        update-types: ["version-update:semver-major"]
      - dependency-name: "com.chaquo.python"
        update-types: ["version-update:semver-major"]

      # Kotlin - âš ï¸ BLOQUEADO: Chaquopy 16.1.0 solo soporta hasta Kotlin 2.2.x
      # Kotlin 2.3.x NO ES COMPATIBLE - Esperar a nueva versiÃ³n de Chaquopy
      - dependency-name: "org.jetbrains.kotlin.android"
        versions: [">=2.3.0", "<3.0.0"]
      - dependency-name: "org.jetbrains.kotlin:kotlin-gradle-plugin"
        versions: [">=2.3.0", "<3.0.0"]
      # TambiÃ©n bloquear actualizaciones MINOR 2.2.x â†’ 2.3.x
      - dependency-name: "org.jetbrains.kotlin.android"
        update-types: ["version-update:semver-minor", "version-update:semver-major"]
      - dependency-name: "org.jetbrains.kotlin:kotlin-gradle-plugin"
        update-types: ["version-update:semver-minor", "version-update:semver-major"]

      # Android Application Plugin - Debe ir en sync con Gradle Plugin
      - dependency-name: "com.android.application"
        update-types: ["version-update:semver-major", "version-update:semver-minor"]


  # ============================================
  # PYTHON DEPENDENCIES
  # ============================================
  - package-ecosystem: "pip"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
    open-pull-requests-limit: 5

    # ðŸ”’ IGNORAR actualizaciones mayores de pandas (puede romper scripts)
    ignore:
      - dependency-name: "pandas"
        update-types: ["version-update:semver-major"]


  # ============================================
  # GITHUB ACTIONS (Siempre seguro actualizar)
  # ============================================
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
    open-pull-requests-limit: 10


# ============================================
# NOTAS:
# ============================================
#
# Esta configuraciÃ³n permite:
# âœ… Actualizaciones PATCH de todo (ej: 8.6.0 â†’ 8.6.1) - Siempre seguro
# âœ… Actualizaciones MINOR de Firebase, AdMob, etc. - Generalmente seguro
# âœ… Actualizaciones de GitHub Actions - Siempre seguro
#
# Y BLOQUEA:
# âŒ Actualizaciones MAJOR/MINOR de Gradle Plugin
# âŒ Actualizaciones MAJOR de Chaquopy
# âŒ Actualizaciones MAJOR de Kotlin
# âŒ Actualizaciones MAJOR de pandas
#
# Para actualizar dependencias bloqueadas:
# 1. Hacerlo manualmente en una rama de testing
# 2. Probar exhaustivamente
# 3. Si funciona, mergear
# 4. Luego actualizar este archivo para permitirla

