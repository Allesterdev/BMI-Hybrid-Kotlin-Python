version: 2
updates:
  # ============================================
  # GRADLE DEPENDENCIES (Android/Kotlin)
  # ============================================
  - package-ecosystem: "gradle"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
    open-pull-requests-limit: 5

    # üîí IGNORAR actualizaciones PELIGROSAS que pueden romper la app
    ignore:
      # Android Gradle Plugin - Solo actualizar parches
      - dependency-name: "com.android.tools.build:gradle"
        update-types: ["version-update:semver-major", "version-update:semver-minor"]

      # Chaquopy - Actualizaciones mayores pueden romper Python
      - dependency-name: "com.chaquo.python:gradle"
        update-types: ["version-update:semver-major"]
      - dependency-name: "com.chaquo.python"
        update-types: ["version-update:semver-major"]

      # Kotlin - Actualizaciones mayores pueden tener breaking changes
      - dependency-name: "org.jetbrains.kotlin.android"
        update-types: ["version-update:semver-major"]
      - dependency-name: "org.jetbrains.kotlin:kotlin-gradle-plugin"
        update-types: ["version-update:semver-major"]

      # Android Application Plugin - Debe ir en sync con Gradle Plugin
      - dependency-name: "com.android.application"
        update-types: ["version-update:semver-major", "version-update:semver-minor"]


  # ============================================
  # PYTHON DEPENDENCIES
  # ============================================
  - package-ecosystem: "pip"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
    open-pull-requests-limit: 5

    # üîí IGNORAR actualizaciones mayores de pandas (puede romper scripts)
    ignore:
      - dependency-name: "pandas"
        update-types: ["version-update:semver-major"]


  # ============================================
  # GITHUB ACTIONS (Siempre seguro actualizar)
  # ============================================
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
    open-pull-requests-limit: 10


# ============================================
# NOTAS:
# ============================================
#
# Esta configuraci√≥n permite:
# ‚úÖ Actualizaciones PATCH de todo (ej: 8.6.0 ‚Üí 8.6.1) - Siempre seguro
# ‚úÖ Actualizaciones MINOR de Firebase, AdMob, etc. - Generalmente seguro
# ‚úÖ Actualizaciones de GitHub Actions - Siempre seguro
#
# Y BLOQUEA:
# ‚ùå Actualizaciones MAJOR/MINOR de Gradle Plugin
# ‚ùå Actualizaciones MAJOR de Chaquopy
# ‚ùå Actualizaciones MAJOR de Kotlin
# ‚ùå Actualizaciones MAJOR de pandas
#
# Para actualizar dependencias bloqueadas:
# 1. Hacerlo manualmente en una rama de testing
# 2. Probar exhaustivamente
# 3. Si funciona, mergear
# 4. Luego actualizar este archivo para permitirla

